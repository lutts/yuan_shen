import sys
import os
from collections import namedtuple
from typing import NamedTuple

sys.path.append(os.path.abspath('../..'))

from analysis_utils.ys_timestamps import Ys_Timestamp, print_timestamps_summary, print_avg_min_max

timestamp_dict = {
    "BRYG1101": ["00:00:03.133", "00:00:03.433", "00:00:03.533",
                 [("f/x/p/k", "00:00:04.468"), ("f/j", "00:00:04.752"), ("f/c", "00:00:04.852"),
                  ("p/j", "00:00:05.085"), ("p/c", "00:00:05.185"), ("x/j", "00:00:00.000"), ("x/c", "00:00:05.285"),
                  ("f/k", "00:00:06.085"), ("f/j", "00:00:06.335"), ("00:00:06.518"),
                  ("f/x/k", "00:00:07.685"), ("f/j", "00:00:07.918"), ("f/c", "00:00:08.085"),
                  ("x/j", "00:00:08.418"), ("x/c", "00:00:08.585"), ("f/k", "00:00:09.285"),
                  ("f/j", "00:00:09.635"), ("p/k", "00:00:09.685"), ("f/c", "00:00:09.785"),
                  ("p/j", "00:00:10.385"), ("p/c", "00:00:10.568"), ("f/k", "00:00:10.868"),
                  ("x/k", "00:00:10.968"), ("f/j", "00:00:11.285"), ("f/c", "00:00:11.452"),
                  ("x/j", "00:00:11.718"), ("x/c", "00:00:11.802"), ("f/k", "00:00:11.802"),
                  ("f/j", "00:00:12.887"), ("f/c", "00:00:13.053"), ("f/k", "00:00:14.020"),
                  ("x/k", "00:00:14.220"), ("f/j", "00:00:14.470"), ("f/c", "00:00:14.637"),
                  ("p/k", "00:00:14.720"), ("x/j", "00:00:14.970"), ("x/c", "00:00:15.070"),
                  ("p/j", "00:00:15.520"), ("f/k", "00:00:15.570"), ("p/c", "00:00:15.620"),
                  ("f/j", "00:00:16.103"), ("f/c", "00:00:16.270"), ("f/k", "00:00:17.153"),
                  ("x/k", "00:00:17.520"), ("f/j", "00:00:17.653"), ("f/c", "00:00:17.820"),
                  ("x/j", "00:00:18.237"), ("x/c", "00:00:18.420"), ("f/k", "00:00:18.820"),
                  ("f/j", "00:00:19.220"), ("f/c", "00:00:19.320"), ("p/k", "00:00:19.987"),
                  ("f/k", "00:00:20.253"), ("p/j", "00:00:20.705"), ("f/j", "00:00:00.000"),
                  ("p/c", "00:00:20.805"), ("f/c", "00:00:20.905"), ("x/k", "00:00:20.672"),
                  ("x/j", "00:00:21.405"), ("x/c", "00:00:21.572"), ("f/k", "00:00:21.838"),
                  ("f/j", "00:00:22.238"), ("f/c", "00:00:22.338"), ("f/k", "00:00:23.355"),
                  ("f/j", "00:00:23.805"), ("x/k", "00:00:23.905"), ("f/c", "00:00:23.905"),
                  ("x/j", "00:00:24.638"), ("x/c", "00:00:24.772"), ("f/j", "00:00:25.388"),
                  ("f/c", "00:00:25.572"), ("p/j", "00:00:25.922"), ("p/c", "00:00:26.022"),
                  ("f/j", "00:00:26.972"), ("f/c", "00:00:27.138"), ("x/j", "00:00:27.872"),
                  ("x/c", "00:00:28.038"), ("f/j", "00:00:28.573"), ("f/c", "00:00:28.740"),
                  ("f/j", "00:00:30.090"), ("f/c", "00:00:30.223"), ("p/j", "00:00:31.007"),
                  ("p/c", "00:00:31.107"), ("x/j", "00:00:31.173"), ("x/c", "00:00:31.357"),
                  ("f/j", "00:00:31.707"), ("f/c", "00:00:31.873"), ("") 
                  ]],
}

class Video_Timestamps(NamedTuple):
    press_e: Ys_Timestamp
    chao_shi: Ys_Timestamp
    e_damage: Ys_Timestamp
    action_time: list[tuple[str, Ys_Timestamp]]


def get_intervals(ys_timestamp_dict: dict[str, Video_Timestamps]):
    intervals_dict = {}
    for filename, t in ys_timestamp_dict.items():
        intervals_dict[filename] = {
        }
    
    return intervals_dict

sorted_intervals = print_timestamps_summary(Video_Timestamps, timestamp_dict, get_intervals)